# 株式会社ハートビーツさんから出された課題「lamp環境の構築」の課程11
課題だから挑戦しようと思って始めたが、気がついたら日々の気晴らしの一環になりつつある。

## 報告
改めて、今まで書いてきたファイルを見返した。マークダウンがうまく機能していなかったり、重大な問題が発覚したりした。
まずこのファイル、途中からブランチを作成して、最後に見直しを行ってからプルリクエストをマージしていた。

しかし、見直しといっても文章のチェック作業しかしていなかった。マークダウンが適応された画面の確認を怠っていた。

今度からマークダウン画面も確認してから、プルリクエストをマージします。

## NTPサーバーとの時刻同期2(AlmaLinux)
さて、apacheがVirtualBoxがどうこう言っていたがそうも言っていられなくなった。以下20230821_2のファイルを引用。

> $ chronyc sources -v

    .-- Source mode  '^' = server, '=' = peer, '#' = local clock.
    / .- Source state '*' = current best, '+' = combined, '-' = not combined,
    | /             'x' = may be in error, '~' = too variable, '?' = unusable.
    ||                                                 .- xxxx [ yyyy ] +/- zzzz
    ||      Reachability register (octal) -.           |  xxxx = adjusted offset,
    ||      Log2(Polling interval) --.      |          |  yyyy = measured offset,
    ||                                \     |          |  zzzz = estimated error.
    ||                                 |    |           \
    MS Name/IP address         Stratum Poll Reach LastRx Last sample
    ===============================================================================
    ^- 133-32-27-253.west.xps.v>     2   8   377    70   +301us[ +274us] +/-   16ms
    ^- tama.paina.net                2   7   377    70    -53ms[  -53ms] +/-  121ms
    ^* ntp-a2.nict.go.jp             1   7   377    69   +337us[ +311us] +/- 4796us
    ^- ipv4.ntp3.rbauman.com         2   8   377    68    -51ms[  -51ms] +/-   56ms

> NTPサーバーとの時刻同期、成功。

どこが成功しているのだろうか。

サーバー名が4つも記載されている上に時刻同期をする予定だったサーバーの名前が一つもない。

当時の私は
- サーバーが1つ以上接続されている
- nictのサーバーが接続されている
- 時刻が正確

 故に「よっしゃあ成功！」と思った。

そんなことを思い出した。

さて、改めて要件を確認してみよう。

> 下記NTPサーバと時刻同期を行う
 - ntp1.jst.mfeed.ad.jp
 - ntp2.jst.mfeed.ad.jp
 - ntp3.jst.mfeed.ad.jp

nict(情報通信研究機構)関係なくね？　いやそうではなく、チェックがガバガバすぎる。しかもこのコマンドの実行直前にも凡ミスをしている。

気づいたからには迅速に修正しよう。

```
$ cd /etc
$ sudo vi chrony.conf
(元の追記部分を削除し、以下を追記)
server ntp1.jst.mfeed.ad.jp iburst
server ntp2.jst.mfeed.ad.jp iburst
server ntp3.jst.mfeed.ad.jp iburst
```

"pool"で認識されないなら"server"にしてみる。

```
$ chronyc sources -v

  .-- Source mode  '^' = server, '=' = peer, '#' = local clock.
 / .- Source state '*' = current best, '+' = combined, '-' = not combined,
| /             'x' = may be in error, '~' = too variable, '?' = unusable.
||                                                 .- xxxx [ yyyy ] +/- zzzz
||      Reachability register (octal) -.           |  xxxx = adjusted offset,
||      Log2(Polling interval) --.      |          |  yyyy = measured offset,
||                                \     |          |  zzzz = estimated error.
||                                 |    |           \
MS Name/IP address         Stratum Poll Reach LastRx Last sample
===============================================================================
^* ntp1.jst.mfeed.ad.jp          2   6   377    61   +337us[ +193us] +/-   59ms
^+ ntp2.jst.mfeed.ad.jp          2   6   377    61   -285us[ -285us] +/-   60ms
^+ ntp3.jst.mfeed.ad.jp          2   6   377    58  -5852us[-5852us] +/-   72ms
```

今度こそ成功しました。

## ちょっと個人的な話
今回、言うなればチェック漏れやミスが大量に見つかり、気づき忘れていたならば、要件から大きく外れかねないミスもあった訳だ。

ミスとは言うものの、これが本物の業務であれば、「要望に正しく答えられない」、最悪の場合「サービスに著しい影響を及ぼしかねない」とも言える。

ヒューマンエラーが起きたならば対策を考えなければならない。

私の所属している大学の教えに

- 労働災害の8割は"人間"が原因であり、ヒューマンエラーはミスが起きる土壌や背景により起きる"結果"である。

というものがあるので、自分の環境を振り返ってみようと思う。

直近で凡ミスが非常に増えていた。スケジュールのミス、作業のミス、誤解、他人からボケていると指摘される、カップ麺の待ち時間 etc

睡眠時間は5 ~ 6時間、食事は3食とっているもののあまり食べていない。ここ最近は就活漬け。最近の息抜きはこのlamp環境構築課題。毎日新たな発見があるもので楽しくなってきた。

ここ1ヶ月で生活週間がガラリと変わった。

色々と考えたが、就活にせよ、この作業にせよ、緊張・集中し過ぎて疲れが溜まってきている側面はあるだろう。

故に、結論としては

「まず、寝よう。そして、小刻みに休もう」
「チェックの仕方をちょっと変えよう」

少々やり方を見直したほうがいいのかもしれない。

ちなみに、私の所属している大学の他の教えは
- 実学をもって広く社会に還元せよ<br>
    (学祖の教えとされている。全ての学科において、国家資格の取得又は受験資格を得られるようになっている。)
- 開拓・報恩・叡智と実践・不撓不屈<br>
    (特に不撓不屈は良くも悪くもネタにされる。)
- 不義理があれば闘うべし<br>
    (虐待の疑いがあれば児相に労働安全衛生法違反があれば労基署に通告し、何事もなければそれに越したことはないのであって、事案を放置することの方が問題であるという意味。私の所属学科の卒業生が労基署に就職し、出身大学の大学病院が通告され、その卒業生が調査・監督指導をしたという話がある。)

よく内外からバカ真面目だとバカにされる。そんな大学である。

生活をする上で多少意識してしまうことがあるので、出身大学に毒されているのかもしれない。

話がだいぶ逸れた。

もはやハートビーツの選考とかどうでもよくなってきた。lamp環境構築が終わったら、CやC++の実行環境でも作ろうかなとか、これから何してみようかとか考え始めている。Linuxディストリビューションの中身を漁るだけでも面白そうだし、時間が溶けそうではある。

今更だが、最早作業ログではなく、日記と化している。

本日の作業は程々にします。